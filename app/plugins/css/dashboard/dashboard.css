@media (min-width: 992px) {
    .timeline:before {
        left: 50%;
        margin-left: -1px;
    }
}

@media (max-width: 1550px) {
    .modal-fullscreen {
        width: 82%;
        height: 100%;
        /* margin: 0; */
        margin-left: 18%;
    }
}

@media (min-width: 1600px) {
    .modal-fullscreen{
        width: 84%;
        margin-left: 15%;
        height: 93%;
    }
}

/* Contenedor principal de la línea de tiempo */
.timeline {
    list-style: none;
    padding: 0;
    margin: 0; /* Eliminar margin-top y margin-bottom excesivos */
    display: flex;
    align-items: center; /* <<< CAMBIO CLAVE: Centra verticalmente los LI en el contenedor */
    overflow-x: auto; /* Permite el scroll horizontal */
    position: relative;
    height: 450%;    /* padding-bottom: 40px; /* Aumentado el padding inferior para evitar que los elementos se corten */
    width: 100%;
    box-sizing: border-box;
    padding-left: 60px; /* Ajusta este valor */
    padding-right: 60px; /* Ajusta este valor */
    padding-top: 80px; /* <<< CAMBIO CLAVE: Añade padding superior para espacio de paneles */
    padding-bottom: 80px; /* <<< CAMBIO CLAVE: Añade padding inferior para espacio de paneles */
}

.timeline-title{
    font-size: 113%;
    color: black;
}

.timeline::before {
    content: '';
    position: absolute;
    top: 50%; /* Centra la línea verticalmente */
    left: 0;
    right: 0;
    height: 3%; /* Considera cambiar a un valor fijo como 4px para consistencia */
    background-color: #007bff; /* Color de la línea */
    transform: translateY(-50%);
    z-index: 1;
    margin-left: -1px;
}

.timeline > li {
    flex-shrink: 0; /* Evita que los elementos se encojan */
    width: 300px; /* Ancho fijo para cada tarjeta. AJUSTA ESTE VALOR. */
    padding: 0; /* No debe haber padding aquí */
    position: relative;
    z-index: 2;
    box-sizing: border-box;
    display: flex;
    flex-direction: column; /* Coloca el badge y el panel en columna */
    align-items: center; /* Centra el badge y el panel horizontalmente dentro del li */
    margin: 0 -12px; /* <<< CAMBIO CLAVE: Aumentado el margen horizontal entre elementos */
    margin-left: auto;
}

.timeline > li:first-child {
    margin-bottom: 0%; 
}

.timeline > li:last-child {
    margin-bottom: 0%;
}

.timeline-badge {
    color: #fff;
    width: 39px;
    height: 39px;
    /* line-height: 82px; */ /* <<< CAMBIO CLAVE: Ajustar line-height para centrar el icono */
    line-height: 39px; /* Igual que width/height para centrado vertical */
    font-size: 1.2em;
    text-align: center;
    position: absolute; /* <<< CAMBIO CLAVE: Cambiado a absolute para centrar en la línea */
    background-color: #007bff;
    border-radius: 50%;
    z-index: 80;
    flex-shrink: 0;
    /* margin-top: 15px; */ /* Eliminar estos márgenes si el badge es absoluto */
    /* margin-bottom: 42px; */ /* Eliminar estos márgenes si el badge es absoluto */
    top: 50%; /* <<< CAMBIO CLAVE: Centra verticalmente el badge */
    left: 50%; /* Centra horizontalmente el badge en el LI */
    transform: translate(-50%, -50%); /* Ajuste fino para centrado perfecto */
}

.timeline-panel {
    background: #fff;
    border: 1px solid #d4d4d4;
    border-radius: 34px;
    padding: 15px;
    text-align: left;
    min-height: 150px; /* Aumentado min-height para dar más espacio al contenido y evitar cortes */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
    width: 100%; /* El panel ocupa todo el ancho de su li padre */
    /* margin-top: 0; /* No necesita margen superior extra, ya el badge lo maneja */
    position: absolute; /* Ya lo tienes en absoluto, lo cual es correcto para la alternancia */
    left: 50%; /* Centrar horizontalmente en el LI */
    transform: translateX(-50%); /* Ajuste fino para centrado horizontal */
}

.timeline > li:nth-child(odd) .timeline-panel {
    bottom: calc(50% + 50px); /* Posiciona el panel arriba de la línea (50% + mitad altura badge + espacio) */
}

.timeline > li:nth-child(odd) .timeline-panel::before { /* Triángulo para panel arriba */
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1;
    top: 100%; /* El triángulo sale de la parte inferior del panel */
    margin-top: -1px; /* Para que se superponga ligeramente con el borde del panel */
    border-width: 10px 10px 0 10px; /* Apunta hacia abajo */
    border-color: #d4d4d4 transparent transparent transparent; /* Color del borde del panel */
}

.timeline > li:nth-child(odd) .timeline-panel::after { /* Triángulo interior para panel arriba */
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
    top: 100%; /* El triángulo sale de la parte inferior del panel */
    border-width: 9px 9px 0 9px;
    border-color: #fff transparent transparent transparent; /* Color del fondo del panel */
}

/* Paneles pares (2do, 4to, etc.) - IRÁN ABAJO de la línea */
.timeline > li:nth-child(even) .timeline-panel {
    top: calc(50% + 50px); /* Posiciona el panel abajo de la línea (50% + mitad altura badge + espacio) */
}

.timeline > li:nth-child(even) .timeline-panel::before { /* Triángulo para panel abajo */
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1;
    top: -10px; /* El triángulo sale de la parte superior del panel */
    border-width: 0 10px 10px 10px; /* Apunta hacia arriba */
    border-color: transparent transparent #d4d4d4 transparent; /* Color del borde del panel */
}

.timeline > li:nth-child(even) .timeline-panel::after { /* Triángulo interior para panel abajo */
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
    top: -9px; /* Un px menos que el borde */
    border-width: 0 9px 9px 9px;
    border-color: transparent transparent #fff transparent; /* Color del fondo del panel */
}



/* Media Query para pantallas más pequeñas (vertical) */
@media (max-width: 768px) {
    .timeline {
        flex-direction: column; 
        align-items: flex-start; 
        white-space: normal;
        overflow-x: hidden; 
        overflow-y: auto; /* <<< CAMBIO CLAVE: Permite scroll vertical en móvil */
        padding-left: 20px; 
        padding-right: 0;
        margin-top: 0; 
        margin-bottom: 0; 
        padding-top: 0; 
        padding-bottom: 0; 
        min-height: auto; 
        flex-grow: 0; /* No debe crecer en móvil, el scroll vertical lo maneja */
    }

    .timeline::before {
        left: 20px; 
        right: auto;
        height: 100%;
        width: 4px;
        top: 0;
        transform: none;
    }

    .timeline > li {
        width: 100%; 
        display: block;
        padding: 0;
        padding-left: 50px; 
        margin-bottom: 20px;
        flex-direction: row; 
        align-items: flex-start;
        margin-left: 0; 
        margin-right: 0; 
    }

    .timeline-badge {
        position: absolute; 
        left: 20px; 
        top: 20px; 
        transform: translateX(-50%); 
        margin: 0; 
    }

    .timeline-panel {
        width: auto; 
        margin-top: 0; 
        margin-bottom: 0; 
        margin-left: 15px; 
        order: 0; 
        position: relative; 
        top: auto; 
        bottom: auto; 
        transform: none; 
    }

    /* Triángulos para la versión móvil (vertical) */
    .timeline-panel::before,
    .timeline-panel::after {
        top: 20px;
        left: -10px;
        transform: translateY(-50%);
        border-width: 10px 10px 10px 0;
        border-color: transparent #d4d4d4 transparent transparent;
    }

    .timeline-panel::after {
        top: 20px;
        left: -9px;
        border-width: 9px 9px 9px 0;
        border-color: transparent #fff transparent transparent;
    }

    .timeline > li:nth-child(odd) .timeline-panel,
    .timeline > li:nth-child(even) .timeline-panel {
        margin-top: 0;
        margin-bottom: 0;
    }

    .timeline > li:nth-child(odd) .timeline-panel::before,
    .timeline > li:nth-child(odd) .timeline-panel::after,
    .timeline > li:nth-child(even) .timeline-panel::before,
    .timeline > li:nth-child(even) .timeline-panel::after {
        border-color: transparent transparent transparent transparent; 
    }
}

.modal{
    backdrop-filter: blur(8px);
    background-color: rgba(0, 0, 0, 0.4);
    display: flex; 
    flex-direction: column; /* Si el contenido principal es una columna */
    height: 100vh; /* O la altura que desees que ocupe el modal */
    justify-content: center; /* Centrar el contenido del modal verticalmente si no hay suficiente para llenarlo */
    align-items: center; /* Centrar horizontalmente */
}

/* Probablemente necesites apuntar al contenido real dentro del modal */
/* Por ejemplo, si tienes un .modal-body o similar */
.modal-content { /* Asumiendo que existe un .modal-content */
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Permite que el contenido del modal crezca para llenar el espacio */
    width: 100%; /* O el ancho deseado */
    max-height: 90vh; /* Para que el modal no sea más alto que la ventana visible */
    overflow: hidden; /* Para evitar scroll en el modal-content si el timeline es el único scrollable */
}

.modal-body { /* Si el timeline está dentro de un modal-body */
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    overflow: hidden; /* Ocultar su propio scroll */
    padding: 0; /* Quitar padding si el timeline ya tiene sus propios paddings */
}

.modal{
    backdrop-filter: blur(8px);
    background-color: rgba(0, 0, 0, 0.4);
}



/* Estilos para el panel cuando está colapsado (estado inicial) */
.timeline-panel.timeline-collapsible {
    cursor: pointer; /* Indica que es clickeable */
    transition: all 0.3s ease; /* Transición suave para cambios de tamaño/sombra */
    height: auto; /* Permite que el panel ajuste su altura */
    min-height: unset; /* Reinicia el min-height si lo tenía */
}

/* Estilos para el panel cuando está expandido */
.timeline-panel.timeline-collapsible.expanded {
    /* Aquí puedes añadir estilos que quieras que tenga cuando esté expandido, por ejemplo: */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* Sombra más pronunciada */
    /* No uses altura fija si el contenido varía mucho */
}

/* Asegura que el contenido detallado se muestra correctamente */
.timeline-panel .timeline-body {
    padding-top: 10px; /* Espacio entre el heading y el body si está visible */
}

#ContentModallineTime{
    margin-top: 3%;
}

/* Opcional: Ajustar los triángulos si el panel cambia mucho de tamaño al expandirse */
/* Si el panel se hace muy alto, los triángulos podrían parecer muy abajo/arriba. */
/* Podrías querer que los triángulos apunten al centro del badge, no al 50% del panel. */
/* Esto puede requerir más CSS complejo o JavaScript para ajustar la posición. */
/* Por ahora, si el contenido no es excesivamente largo, debería verse bien. */

#IconCloseTimeline{
  background-color: #8392ab;
  color: white;
}

#IconCloseTimeline:hover{
    color: white;
    background-color: red;
}

#CloseCerrarTimeline:hover{
    color: white;
    background-color: red;
}

#CloseCerrarTimeline{
    background-color: #8392ab;
    cursor: pointer;
    color: white;
}

/* Estilo para el popup general para aplicar sombras si se desea */
.swal2-custom-header-popup {
  /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.3) !important; */
  border-radius: 0.8rem !important;
  /* Bordes redondeados */
  overflow: hidden;
  /* Asegura que el gradiente del header no se desborde */
}

/* Estilo para el título dentro del header */
.swal2-custom-header-popup .swal2-title {
  color: white !important;
  /* Asegura que el título sea blanco */
  padding-left: 0 !important;
  /* Restablece el padding si SweetAlert2 añade alguno */
  margin-top: 0 !important;
  /* Elimina margen superior si SweetAlert2 añade */
  background-image: linear-gradient(310deg, #003594 0%, #000 100%);
}

/* Estilos para el botón de Confirmar Recibido */
#swal2-confirm-receive-ticket-id,
#swal2-cancel-receive-ticket-id {
  padding: 0.75rem 1.5rem;
  /* Más padding para botones más grandes */
  font-size: 1rem;
  border-radius: 8px;
  /* Bordes suaves para los botones */
  box-shadow: none;
}

#swal2-confirm-receive-ticket-id:hover {
  background-color: green !important;
  /* Un azul un poco más oscuro al hacer hover */
  transform: translateY(-2px);
  /* Un ligero movimiento hacia arriba */
  box-shadow: none;
}

#swal2-cancel-receive-ticket-id:hover {
  background-color: red !important;
  /* Un gris un poco más oscuro al hacer hover */
  transform: translateY(-2px);
}

#NroTicketConfirReceiCoord{
    padding: 0.2rem 0.5rem;
    border-radius: 0.3rem;
    background-color: #e0f7fa;
    color: #007bff;
}

#textConfirmp{
    font-size: 0.9rem; /* Tamaño de fuente más grande para el texto de confirmación */
    padding: 0.2rem 0.5rem; 
    border-radius: 0.3rem; 
    background-color: #e0f7fa; 
    color: #007bff; 
}

             @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            .loading-overlay {
                backdrop-filter: blur(2px);
                -webkit-backdrop-filter: blur(2px);
            }
            
            .loading-spinner {
                box-shadow: 0 4px 15px rgba(0, 53, 148, 0.2);
            }
            
            .card-loading {
                position: relative;
                overflow: hidden;
            }
            
            .card-loading::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
                animation: shimmer 2s infinite;
                z-index: 1;
            }
            
            @keyframes shimmer {
                0% { left: -100%; }
                100% { left: 100%; }
            }

            
            .card-header.bg-primary.text-white {
                cursor: pointer; /* Changes the cursor to indicate clickability */
                transition: all 0.3s ease; /* Smooth transition for hover effects */
            }

            .card-header.bg-primary.text-white:hover {
                background-color: #0057b3; /* Slightly darker blue on hover */
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.9); /* Add shadow on hover */
                transform: translateY(-2px); /* Slight lift effect */
            }

            .card-header.bg-primary.text-white:active {
                background-color: #004494; /* Even darker blue when clicked */
                transform: translateY(0); /* Reset lift on click */
            }

            /* Tooltip styling */
            .card-header.bg-primary.text-white:hover::after {
                content: 'Redireccionar'; /* Text to display */
                position: absolute;
                bottom: 100%; /* Position above the header */
                left: 50%;
                transform: translateX(-50%); /* Center horizontally */
                background-color: #333; /* Dark background for tooltip */
                color: #fff; /* White text */
                padding: 5px 10px;
                border-radius: 4px;
                font-size: 12px;
                white-space: nowrap;
                z-index: 10; /* Ensure it appears above other elements */
                opacity: 1;
                transition: opacity 0.2s ease;
            }

            .card-header.bg-primary.text-white::after {
                opacity: 0; /* Hidden by default */
            }

            /* Custom styles for SweetAlert2 modal */
            /* Custom styles for SweetAlert2 session expired modal */
            .modern-swal-popup1 {
                border-radius: 12px !important;
                padding: 20px !important;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2) !important;
                background: linear-gradient(145deg, #ffffff, #f0f4f8) !important;
            }

            .modern-swal-title1 {
                font-size: 1.5rem !important;
                color: #1e3a8a !important;
                font-weight: 600 !important;
                margin-bottom: 10px !important;
            }

            .modern-swal-content1 {
                font-size: 1rem !important;
                color: #374151 !important;
                line-height: 1.5 !important;
            }

            .modern-swal-progress-bar1 {
                background-color: #1e3a8a !important; /* Deep blue progress bar */
                height: 4px !important;
            }

            .modern-swal-popup {
                border-radius: 12px !important;
                padding: 20px !important;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2) !important;
                background: linear-gradient(145deg, #ffffff, #f0f4f8) !important;
            }

            .modern-swal-title {
                font-size: 1.5rem !important;
                color: #1e3a8a !important;
                font-weight: 600 !important;
                margin-bottom: 10px !important;
            }

            .modern-swal-content {
                font-size: 1rem !important;
                color: #374151 !important;
                line-height: 1.5 !important;
            }

            .modern-swal-confirm {
                border-radius: 8px !important;
                padding: 10px 20px !important;
                font-size: 1rem !important;
                font-weight: 500 !important;
                transition: transform 0.2s ease !important;
            }

            .modern-swal-confirm:hover {
                transform: translateY(-2px) !important;
            }

            .modern-swal-cancel {
                border-radius: 8px !important;
                padding: 10px 20px !important;
                font-size: 1rem !important;
                font-weight: 500 !important;
                transition: transform 0.2s ease !important;
            }

            .modern-swal-cancel:hover {
                transform: translateY(-2px) !important;
            }

            /* Estilos para el botón de expandir/contraer en tabla */
            .btn-expand-collapse {
                background: #007bff !important;
                border: 1px solid #007bff !important;
                border-radius: 8px;
                padding: 8px 16px;
                cursor: pointer;
                display: inline-flex;
                align-items: center;
                gap: 8px;
                font-size: 0.875rem;
                font-weight: 500;
                color: #ffffff !important;
                transition: all 0.2s ease;
                font-family: 'Open Sans', sans-serif;
                text-decoration: none;
                outline: none;
            }

            .btn-expand-collapse:hover {
                background: #0056b3 !important;
                border-color: #0056b3 !important;
                transform: translateY(-1px);
                box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
                color: #ffffff !important;
            }

            .btn-expand-collapse:active {
                transform: translateY(0);
                box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
                background: #004085 !important;
                border-color: #004085 !important;
                color: #ffffff !important;
            }

            .btn-expand-collapse:focus {
                box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
                color: #ffffff !important;
            }

            .expand-icon {
                transition: transform 0.3s ease;
                flex-shrink: 0;
                color: #ffffff !important;
            }

            .expand-text {
                white-space: nowrap;
                color: #ffffff !important;
            }

            input[type="text"], input[type="password"]{
                width: calc(100% - 1rem);
                padding: 0.5rem 0.75rem;
                margin-bottom: 0.75rem;
                border: 1px solid #ced4da;
                border-radius: 0.25rem;
                box-sizing: border-box;
                font-size: 0.9rem;
                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
                font-family: 'Arial', sans-serif;
            }

            .password-legend {
                text-align: left;
                margin-top: 1rem;
                color: black;
                font-size: 0.875rem;
            }

            .password-legend ul {
                list-style: none;
                padding-left: 0;
                margin-top: 0.5rem;
            }

            .password-legend li {
                position: relative;
                padding-left: 20px;
                color: #888; /* Color inicial del texto */
                transition: color 0.3s ease;
            }

            .password-legend li::before {
                content: '•';
                position: absolute;
                left: 0;
                top: 0;
                font-size: 1.2rem;
                line-height: 1;
            }
            
            /* Reglas de color para los estados de validación */
            .password-legend li.valid {
                color: green;
            }

            .password-legend li.invalid {
                color: red;
            }

            /* Estilo para los inputs con error o éxito */
            .form-control.error {
                border-color: #dc3545;
            }

            .form-control.success {
                border-color: #198754;
            }

            .error-message {
                color: #dc3545;
                font-size: 0.875em;
                margin-top: 0.25rem;
            }
            
            /* Estilos para el input con icono */
            .input-with-icon-wrapper {
                position: relative;
            }
            
            .password-toggle-icon {
                position: absolute;
                right: 6%;
                top: 50%;
                transform: translateY(-50%);
                cursor: pointer;
                color: #6c757d; /* Color de icono por defecto */
            }

            /* Contenedor del botón y la sugerencia de contraseña */
            #suggestedPasswordContainer {
                margin-top: -3%;
                margin-left: 12%;
                position: fixed;
                align-items: center;
            }

            @media screen and (min-width: 1870px) {
                #suggestedPasswordContainer {
                    margin-top: -2%;
                    margin-left: 10%;
                    position: fixed;
                    align-items: center;
                }
            }

            #Cerrar-botton{
                background-color: #A0A0A0;
                  color: white;
                border: none;
                cursor: pointer;
                padding: 10px 20px;
                font-size: 16px;
                border-radius: 5px;
                transition: background-color 0.3s ease;
            }

            #Cerrar-botton:hover{
                background-color: red;
            }

            #submitNewPasswordBtn{
                background-color: #003594;
                color: white;
                border: none;
                cursor: pointer;
                padding: 10px 20px;
                font-size: 16px;
                border-radius: 5px;
                transition: background-color 0.3s ease;
            }

            #submitNewPasswordBtn:hover{
                background-color: green;
            }
